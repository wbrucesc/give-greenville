<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Home</title>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"/>
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" integrity="sha384-h21C2fcDk/eFsW9sC9h0dhokq5pDinLNklTKoxIZRUn3+hvmgQSffLLQ4G4l2eEr" crossorigin="anonymous"/>
    <link rel="stylesheet" href="/assets/css/app.css"/>
</head>
<body>

    <!-- Updated nav bar -->
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="/"><img class="pull-left" style="position: relative; top: 7px; margin-right: 10px;" th:src="@{'/files/greenville.png'}" alt=""/></a>
                <a class="navbar-brand" href="/"> Give Greenville</a>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="/ask">Want to Ask?<span class="sr-only">(current)</span></a></li>
                    <li><a href="/give">Want to Give?</a></li>
                    <li><a href="/flash">Give Today</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a th:if="${user != null}" th:text="${'@' + user.getUsername()}" href="/myPosts"></a></li>
                    <li><a href="/about">ABOUT</a></li>
                    <li>
                        <form class="pull-right" action="/logout" method="POST">
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                            <button th:if="${user != null}" class="btn btn-default" type="submit" value="LOGOUT">LOGOUT</button>
                            <a th:if="${user == null}" class="btn btn-default" href="/login">LOGIN</a>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="jumbotron">
            <h1>Give Greenville</h1>
               <h3><strong>
                   A community in Greenville, SC where you are free to give anything your heart desires and also ask
                   freely for gifts from others without the exchange of money, exchanging items, or bartering!
               </strong></h3>
            <blockquote class="blockquote">
                <p><em>"Saving items from the landfill, one give at a time."</em></p>
            </blockquote>
        </div>
    </div>

    <div class="container">
        <div class="container-fluid well">
            <h1 class="pull-left">Recent Posts</h1>
            <a class="btn btn-success pull-right" href="/create">Create New Post</a>
        </div>
    </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-4 pull-right">
                    <form class="form-inline" role="search" action="/indexResults">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <div class="form-group">
                                <input name="search" type="text" class="form-control" placeholder="Search by title"/>
                                <span type="submit" class="btn btn-default">Submit</span>
                        </div>
                    </form>

                    <div class="container">

                    </div>


                </div>


                <div class="col-lg-8" th:each="post: ${posts}">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <a class="panel-title post-title" th:text="${post.title}" th:href="@{'/detail/' + ${post.id}}"></a>
                            <i th:if="${post.getCategory().equals('Ask')}" class="fa fa-users fa-lg pull-right"></i>
                            <i th:if="${post.getCategory().equals('Give')}" class="fa fa-gift fa-lg pull-right"></i>
                            <i th:if="${post.getCategory().equals('Flash Give')}" class="fa fa-bolt fa-lg pull-right"></i>

                        </div>

                        <div class="panel-body">
                            <div class="container col-lg-4 pull-left">
                                <a th:href="@{'/detail/' + ${post.id}}"><img th:src="@{'/files/' + ${post.imagePath}}" style="width: 200px; height: auto;"/></a>
                            </div>
                            <div class="container col-lg-8 pull-right">
                                <label class="control-label" for="description">Description</label>
                                <div th:text="${post.description}" id="description"></div>
                                <hr/>
                                <label class="control-label" for="loc">Location</label>
                                <div th:text="${post.location}" id="loc"></div>
                                <br/>
                                <label class="control-label" for="poster">Poster:</label>
                                <span class="inline" th:text="${post.author.username}" id="poster"></span>
                                <br/>
                                <span th:text="${post.created}"></span>
                                <hr/>
                                <a class="btn btn-primary btn-sm" th:href="@{'/detail/' + ${post.id}}">Considerations <span class="badge" th:text="${post.considerations.size()}"></span></a>

                                <a class="btn btn-default btn-sm pull-right" th:if="${user != null and post.getAuthor().getId() != user.getId()}" th:href="@{'/consider/' + ${post.id}}">Consider Me</a>
                            </div>

                        </div>
                    </div>
                </div>

                <br/>


                <div class="col-lg-8 well" th:each="post: ${completed}">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <a class="panel-title post-title" th:text="${post.title}" th:href="@{'/detail/' + ${post.id}}"></a>
                            <i th:if="${post.getCategory().equals('Ask')}" class="fa fa-users fa-lg pull-right"></i>
                            <i th:if="${post.getCategory().equals('Give')}" class="fa fa-gift fa-lg pull-right"></i>
                            <i th:if="${post.getCategory().equals('Flash Give')}" class="fa fa-bolt fa-lg pull-right"></i>
                            <i class="fa fa-check-circle-o fa-lg pull-right"></i>
                        </div>

                        <div class="panel-body">
                            <label class="control-label" for="desc">Description</label>
                            <div th:text="${post.description}" id="desc"></div>
                            <hr/>
                            <!--<label class="control-label" for="loc">Location</label>-->
                            <!--<div th:text="${post.location}" id="loc"></div>-->
                            <!--<br/>-->
                            <label class="control-label" for="poster">Poster:</label>
                            <span class="inline" th:text="${post.author.username}" id="poster"></span>
                            <br/>
                            <span th:text="${post.created}"></span>
                            <hr/>
                            <a class="btn btn-primary btn-sm" th:href="@{'/detail/' + ${post.id}}">Considerations <span class="badge" th:text="${post.considerations.size()}"></span></a>
                        </div>


                    </div>
                </div>



            </div>
        </div>



</body>
</html>